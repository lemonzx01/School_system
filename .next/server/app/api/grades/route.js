"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/grades/route";
exports.ids = ["app/api/grades/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgrades%2Froute&page=%2Fapi%2Fgrades%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgrades%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgrades%2Froute&page=%2Fapi%2Fgrades%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgrades%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var F_Student_name_checking_School_system_src_app_api_grades_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/grades/route.ts */ \"(rsc)/./src/app/api/grades/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/grades/route\",\n        pathname: \"/api/grades\",\n        filename: \"route\",\n        bundlePath: \"app/api/grades/route\"\n    },\n    resolvedPagePath: \"F:\\\\Student_name_checking\\\\School_system\\\\src\\\\app\\\\api\\\\grades\\\\route.ts\",\n    nextConfigOutput,\n    userland: F_Student_name_checking_School_system_src_app_api_grades_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/grades/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZncmFkZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmdyYWRlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmdyYWRlcyUyRnJvdXRlLnRzJmFwcERpcj1GJTNBJTVDU3R1ZGVudF9uYW1lX2NoZWNraW5nJTVDU2Nob29sX3N5c3RlbSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RiUzQSU1Q1N0dWRlbnRfbmFtZV9jaGVja2luZyU1Q1NjaG9vbF9zeXN0ZW0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sX3N5c3RlbS8/YjFkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJGOlxcXFxTdHVkZW50X25hbWVfY2hlY2tpbmdcXFxcU2Nob29sX3N5c3RlbVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxncmFkZXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dyYWRlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dyYWRlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZ3JhZGVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRjpcXFxcU3R1ZGVudF9uYW1lX2NoZWNraW5nXFxcXFNjaG9vbF9zeXN0ZW1cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ3JhZGVzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ncmFkZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgrades%2Froute&page=%2Fapi%2Fgrades%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgrades%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/grades/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/grades/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const classroom = searchParams.get(\"classroom\");\n        const semester = searchParams.get(\"semester\");\n        const year = searchParams.get(\"year\");\n        if (!classroom || !semester || !year) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json([]);\n        }\n        const data = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getGradesByClassroom)(Number(classroom), Number(semester), year);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error(\"[API] GET /grades error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch grades\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { classroom, semester, year, grades } = body;\n        if (!classroom) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing classroom\"\n            }, {\n                status: 400\n            });\n        }\n        const entries = Object.entries(grades || {}).flatMap(([studentId, subjects])=>Object.entries(subjects).map(([subjectCode, score])=>({\n                    student_id: Number(studentId),\n                    subject_code: subjectCode,\n                    score: Number(score),\n                    classroom_id: Number(classroom),\n                    semester: Number(semester),\n                    academic_year: year\n                }))).filter((e)=>e.score !== null && e.score !== undefined && !isNaN(e.score));\n        (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.saveGrades)(Number(classroom), Number(semester), year, entries);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"[API] POST /grades error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to save grades\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ncmFkZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQztBQUNpQjtBQUVwRCxlQUFlRyxJQUFJQyxPQUFnQjtJQUN4QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO1FBQzVDLE1BQU1DLFlBQVlILGFBQWFJLEdBQUcsQ0FBQztRQUNuQyxNQUFNQyxXQUFXTCxhQUFhSSxHQUFHLENBQUM7UUFDbEMsTUFBTUUsT0FBT04sYUFBYUksR0FBRyxDQUFDO1FBRTlCLElBQUksQ0FBQ0QsYUFBYSxDQUFDRSxZQUFZLENBQUNDLE1BQU07WUFDcEMsT0FBT1gscURBQVlBLENBQUNZLElBQUksQ0FBQyxFQUFFO1FBQzdCO1FBRUEsTUFBTUMsT0FBT1osNkRBQW9CQSxDQUFDYSxPQUFPTixZQUFZTSxPQUFPSixXQUFXQztRQUN2RSxPQUFPWCxxREFBWUEsQ0FBQ1ksSUFBSSxDQUFDQztJQUMzQixFQUFFLE9BQU9FLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBT2YscURBQVlBLENBQUNZLElBQUksQ0FBQztZQUFFRyxPQUFPO1FBQXlCLEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQzlFO0FBQ0Y7QUFFTyxlQUFlQyxLQUFLZCxPQUFnQjtJQUN6QyxJQUFJO1FBQ0YsTUFBTWUsT0FBTyxNQUFNZixRQUFRUSxJQUFJO1FBQy9CLE1BQU0sRUFBRUosU0FBUyxFQUFFRSxRQUFRLEVBQUVDLElBQUksRUFBRVMsTUFBTSxFQUFFLEdBQUdEO1FBRTlDLElBQUksQ0FBQ1gsV0FBVztZQUNkLE9BQU9SLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7Z0JBQUVHLE9BQU87WUFBb0IsR0FBRztnQkFBRUUsUUFBUTtZQUFJO1FBQ3pFO1FBRUEsTUFBTUksVUFBVUMsT0FBT0QsT0FBTyxDQUFDRCxVQUFVLENBQUMsR0FBR0csT0FBTyxDQUFDLENBQUMsQ0FBQ0MsV0FBV0MsU0FBd0IsR0FDeEZILE9BQU9ELE9BQU8sQ0FBQ0ksVUFBVUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsYUFBYUMsTUFBcUIsR0FBTTtvQkFDckVDLFlBQVlmLE9BQU9VO29CQUNuQk0sY0FBY0g7b0JBQ2RDLE9BQU9kLE9BQU9jO29CQUNkRyxjQUFjakIsT0FBT047b0JBQ3JCRSxVQUFVSSxPQUFPSjtvQkFDakJzQixlQUFlckI7Z0JBQ2pCLEtBQ0FzQixNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVOLEtBQUssS0FBSyxRQUFRTSxFQUFFTixLQUFLLEtBQUtPLGFBQWEsQ0FBQ0MsTUFBTUYsRUFBRU4sS0FBSztRQUV6RTFCLG1EQUFVQSxDQUFDWSxPQUFPTixZQUFZTSxPQUFPSixXQUFXQyxNQUFNVTtRQUN0RCxPQUFPckIscURBQVlBLENBQUNZLElBQUksQ0FBQztZQUFFeUIsU0FBUztRQUFLO0lBQzNDLEVBQUUsT0FBT3RCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBT2YscURBQVlBLENBQUNZLElBQUksQ0FBQztZQUFFRyxPQUFPO1FBQXdCLEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2xfc3lzdGVtLy4vc3JjL2FwcC9hcGkvZ3JhZGVzL3JvdXRlLnRzP2E0NjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBnZXRHcmFkZXNCeUNsYXNzcm9vbSwgc2F2ZUdyYWRlcyB9IGZyb20gJ0AvbGliL2RiJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBjbGFzc3Jvb20gPSBzZWFyY2hQYXJhbXMuZ2V0KCdjbGFzc3Jvb20nKVxuICAgIGNvbnN0IHNlbWVzdGVyID0gc2VhcmNoUGFyYW1zLmdldCgnc2VtZXN0ZXInKVxuICAgIGNvbnN0IHllYXIgPSBzZWFyY2hQYXJhbXMuZ2V0KCd5ZWFyJylcblxuICAgIGlmICghY2xhc3Nyb29tIHx8ICFzZW1lc3RlciB8fCAheWVhcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFtdKVxuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBnZXRHcmFkZXNCeUNsYXNzcm9vbShOdW1iZXIoY2xhc3Nyb29tKSwgTnVtYmVyKHNlbWVzdGVyKSwgeWVhcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQVBJXSBHRVQgL2dyYWRlcyBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBncmFkZXMnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBjbGFzc3Jvb20sIHNlbWVzdGVyLCB5ZWFyLCBncmFkZXMgfSA9IGJvZHlcblxuICAgIGlmICghY2xhc3Nyb29tKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgY2xhc3Nyb29tJyB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGdyYWRlcyB8fCB7fSkuZmxhdE1hcCgoW3N0dWRlbnRJZCwgc3ViamVjdHNdOiBbc3RyaW5nLCBhbnldKSA9PlxuICAgICAgT2JqZWN0LmVudHJpZXMoc3ViamVjdHMpLm1hcCgoW3N1YmplY3RDb2RlLCBzY29yZV06IFtzdHJpbmcsIGFueV0pID0+ICh7XG4gICAgICAgIHN0dWRlbnRfaWQ6IE51bWJlcihzdHVkZW50SWQpLFxuICAgICAgICBzdWJqZWN0X2NvZGU6IHN1YmplY3RDb2RlLFxuICAgICAgICBzY29yZTogTnVtYmVyKHNjb3JlKSxcbiAgICAgICAgY2xhc3Nyb29tX2lkOiBOdW1iZXIoY2xhc3Nyb29tKSxcbiAgICAgICAgc2VtZXN0ZXI6IE51bWJlcihzZW1lc3RlciksXG4gICAgICAgIGFjYWRlbWljX3llYXI6IHllYXJcbiAgICAgIH0pKVxuICAgICkuZmlsdGVyKGUgPT4gZS5zY29yZSAhPT0gbnVsbCAmJiBlLnNjb3JlICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKGUuc2NvcmUpKVxuXG4gICAgc2F2ZUdyYWRlcyhOdW1iZXIoY2xhc3Nyb29tKSwgTnVtYmVyKHNlbWVzdGVyKSwgeWVhciwgZW50cmllcylcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0FQSV0gUE9TVCAvZ3JhZGVzIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHNhdmUgZ3JhZGVzJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRHcmFkZXNCeUNsYXNzcm9vbSIsInNhdmVHcmFkZXMiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiY2xhc3Nyb29tIiwiZ2V0Iiwic2VtZXN0ZXIiLCJ5ZWFyIiwianNvbiIsImRhdGEiLCJOdW1iZXIiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJQT1NUIiwiYm9keSIsImdyYWRlcyIsImVudHJpZXMiLCJPYmplY3QiLCJmbGF0TWFwIiwic3R1ZGVudElkIiwic3ViamVjdHMiLCJtYXAiLCJzdWJqZWN0Q29kZSIsInNjb3JlIiwic3R1ZGVudF9pZCIsInN1YmplY3RfY29kZSIsImNsYXNzcm9vbV9pZCIsImFjYWRlbWljX3llYXIiLCJmaWx0ZXIiLCJlIiwidW5kZWZpbmVkIiwiaXNOYU4iLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/grades/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClassroom: () => (/* binding */ createClassroom),\n/* harmony export */   createStudent: () => (/* binding */ createStudent),\n/* harmony export */   deleteClassroom: () => (/* binding */ deleteClassroom),\n/* harmony export */   deleteStudent: () => (/* binding */ deleteStudent),\n/* harmony export */   exportAllData: () => (/* binding */ exportAllData),\n/* harmony export */   getAllAttendanceByClassroom: () => (/* binding */ getAllAttendanceByClassroom),\n/* harmony export */   getAllClassrooms: () => (/* binding */ getAllClassrooms),\n/* harmony export */   getAllHealthByClassroom: () => (/* binding */ getAllHealthByClassroom),\n/* harmony export */   getAllStudents: () => (/* binding */ getAllStudents),\n/* harmony export */   getAttendanceByClassroom: () => (/* binding */ getAttendanceByClassroom),\n/* harmony export */   getAttendanceByClassroomRange: () => (/* binding */ getAttendanceByClassroomRange),\n/* harmony export */   getGradesByClassroom: () => (/* binding */ getGradesByClassroom),\n/* harmony export */   getHealthByClassroom: () => (/* binding */ getHealthByClassroom),\n/* harmony export */   getHealthByClassroomRange: () => (/* binding */ getHealthByClassroomRange),\n/* harmony export */   getScheduleByClassroom: () => (/* binding */ getScheduleByClassroom),\n/* harmony export */   getStudentsByClassroom: () => (/* binding */ getStudentsByClassroom),\n/* harmony export */   importData: () => (/* binding */ importData),\n/* harmony export */   saveAttendance: () => (/* binding */ saveAttendance),\n/* harmony export */   saveGrades: () => (/* binding */ saveGrades),\n/* harmony export */   saveHealth: () => (/* binding */ saveHealth),\n/* harmony export */   saveSchedule: () => (/* binding */ saveSchedule),\n/* harmony export */   updateClassroom: () => (/* binding */ updateClassroom),\n/* harmony export */   updateStudent: () => (/* binding */ updateStudent)\n/* harmony export */ });\n// In-memory database for web mode\n// Uses globalThis to persist data across Next.js HMR (hot module replacement)\n// Actual production data is managed by Electron's SQLite via electron/main.js\nconst g = globalThis;\nif (!g.__db) {\n    g.__db = {\n        classrooms: [],\n        students: [],\n        schedules: [],\n        attendanceStore: [],\n        healthStore: [],\n        gradesStore: [],\n        nextClassroomId: 1,\n        nextStudentId: 1\n    };\n}\nconst db = g.__db;\nfunction getAllClassrooms() {\n    return db.classrooms.map((c)=>({\n            ...c,\n            student_count: db.students.filter((s)=>s.classroom_id === c.id && s.is_active === 1).length\n        }));\n}\nfunction createClassroom(name, level, academicYear) {\n    const classroom = {\n        id: db.nextClassroomId++,\n        name,\n        level,\n        academic_year: academicYear,\n        created_at: new Date().toISOString(),\n        student_count: 0\n    };\n    db.classrooms.push(classroom);\n    return classroom;\n}\nfunction deleteClassroom(id) {\n    db.classrooms = db.classrooms.filter((c)=>c.id !== id);\n    // Cascade delete associated data\n    db.students = db.students.filter((s)=>s.classroom_id !== id);\n    db.schedules = db.schedules.filter((s)=>s.classroom_id !== id);\n    db.gradesStore = db.gradesStore.filter((g)=>g.classroom_id !== id);\n    db.attendanceStore = db.attendanceStore.filter((a)=>a.classroom_id !== id);\n    db.healthStore = db.healthStore.filter((h)=>h.classroom_id !== id);\n}\nfunction updateClassroom(id, data) {\n    const index = db.classrooms.findIndex((c)=>c.id === id);\n    if (index !== -1) {\n        db.classrooms[index] = {\n            ...db.classrooms[index],\n            ...data\n        };\n    }\n}\nfunction getStudentsByClassroom(classroomId) {\n    return db.students.filter((s)=>s.classroom_id === classroomId && s.is_active === 1).map((s)=>({\n            ...s,\n            classroom_name: db.classrooms.find((c)=>c.id === s.classroom_id)?.name || \"\"\n        }));\n}\nfunction getAllStudents() {\n    return db.students.filter((s)=>s.is_active === 1).map((s)=>({\n            ...s,\n            classroom_name: db.classrooms.find((c)=>c.id === s.classroom_id)?.name || \"\"\n        }));\n}\nfunction createStudent(data) {\n    const student = {\n        id: db.nextStudentId++,\n        ...data,\n        is_active: 1,\n        created_at: new Date().toISOString()\n    };\n    db.students.push(student);\n    return student;\n}\nfunction updateStudent(id, data) {\n    const index = db.students.findIndex((s)=>s.id === id);\n    if (index !== -1) {\n        db.students[index] = {\n            ...db.students[index],\n            ...data\n        };\n    }\n}\nfunction deleteStudent(id) {\n    const index = db.students.findIndex((s)=>s.id === id);\n    if (index !== -1) {\n        db.students[index].is_active = 0;\n    }\n}\nfunction getScheduleByClassroom(classroomId) {\n    return db.schedules.filter((s)=>s.classroom_id === classroomId);\n}\nfunction saveSchedule(classroomId, items) {\n    db.schedules = db.schedules.filter((s)=>s.classroom_id !== classroomId);\n    db.schedules.push(...items);\n}\nfunction getGradesByClassroom(classroomId, semester, year) {\n    return db.gradesStore.filter((g)=>g.classroom_id === classroomId && g.semester === semester && g.academic_year === year);\n}\nfunction saveGrades(classroomId, semester, year, entries) {\n    db.gradesStore = db.gradesStore.filter((g)=>!(g.classroom_id === classroomId && g.semester === semester && g.academic_year === year));\n    db.gradesStore.push(...entries);\n}\n// Attendance functions\nfunction getAttendanceByClassroom(classroomId, date) {\n    return db.attendanceStore.filter((a)=>a.classroom_id === classroomId && a.date === date);\n}\nfunction getAttendanceByClassroomRange(classroomId, startDate, endDate) {\n    return db.attendanceStore.filter((a)=>a.classroom_id === classroomId && a.date >= startDate && a.date <= endDate);\n}\nfunction getAllAttendanceByClassroom(classroomId) {\n    return db.attendanceStore.filter((a)=>a.classroom_id === classroomId);\n}\nfunction saveAttendance(classroomId, date, entries) {\n    db.attendanceStore = db.attendanceStore.filter((a)=>!(a.classroom_id === classroomId && a.date === date));\n    db.attendanceStore.push(...entries);\n}\n// Health functions\nfunction getHealthByClassroom(classroomId, date) {\n    return db.healthStore.filter((h)=>h.classroom_id === classroomId && h.date === date);\n}\nfunction getHealthByClassroomRange(classroomId, startDate, endDate) {\n    return db.healthStore.filter((h)=>h.classroom_id === classroomId && h.date >= startDate && h.date <= endDate);\n}\nfunction getAllHealthByClassroom(classroomId) {\n    return db.healthStore.filter((h)=>h.classroom_id === classroomId);\n}\nfunction saveHealth(classroomId, date, entries) {\n    db.healthStore = db.healthStore.filter((h)=>!(h.classroom_id === classroomId && h.date === date));\n    db.healthStore.push(...entries);\n}\n// Export all data\nfunction exportAllData() {\n    return {\n        classrooms: getAllClassrooms(),\n        students: getAllStudents(),\n        schedule: db.schedules,\n        grades: db.gradesStore,\n        attendance: db.attendanceStore,\n        health_check: db.healthStore,\n        exported_at: new Date().toISOString(),\n        version: \"1.0\"\n    };\n}\n// Import data\nfunction importData(data) {\n    try {\n        if (data.classrooms) {\n            db.classrooms = data.classrooms;\n            db.nextClassroomId = Math.max(...db.classrooms.map((c)=>c.id), 0) + 1;\n        }\n        if (data.students) {\n            db.students = data.students.map((s)=>({\n                    ...s,\n                    is_active: s.is_active ?? 1\n                }));\n            db.nextStudentId = Math.max(...db.students.map((s)=>s.id), 0) + 1;\n        }\n        if (data.schedule) {\n            db.schedules = data.schedule;\n        }\n        if (data.grades) {\n            db.gradesStore = data.grades;\n        }\n        if (data.attendance) {\n            db.attendanceStore = data.attendance;\n        }\n        if (data.health_check) {\n            db.healthStore = data.health_check;\n        }\n        return {\n            success: true\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: String(error)\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pCekQsR0FBR04sU0FBUyxHQUFHK0IsS0FBS2dDLFFBQVE7UUFDOUI7UUFDQSxJQUFJaEMsS0FBS2lDLE1BQU0sRUFBRTtZQUNmMUQsR0FBR0gsV0FBVyxHQUFHNEIsS0FBS2lDLE1BQU07UUFDOUI7UUFDQSxJQUFJakMsS0FBS2tDLFVBQVUsRUFBRTtZQUNuQjNELEdBQUdMLGVBQWUsR0FBRzhCLEtBQUtrQyxVQUFVO1FBQ3RDO1FBQ0EsSUFBSWxDLEtBQUttQyxZQUFZLEVBQUU7WUFDckI1RCxHQUFHSixXQUFXLEdBQUc2QixLQUFLbUMsWUFBWTtRQUNwQztRQUNBLE9BQU87WUFBRU0sU0FBUztRQUFLO0lBQ3pCLEVBQUUsT0FBT0MsT0FBTztRQUNkLE9BQU87WUFBRUQsU0FBUztZQUFPQyxPQUFPQyxPQUFPRDtRQUFPO0lBQ2hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2xfc3lzdGVtLy4vc3JjL2xpYi9kYi50cz85ZTRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEluLW1lbW9yeSBkYXRhYmFzZSBmb3Igd2ViIG1vZGVcbi8vIFVzZXMgZ2xvYmFsVGhpcyB0byBwZXJzaXN0IGRhdGEgYWNyb3NzIE5leHQuanMgSE1SIChob3QgbW9kdWxlIHJlcGxhY2VtZW50KVxuLy8gQWN0dWFsIHByb2R1Y3Rpb24gZGF0YSBpcyBtYW5hZ2VkIGJ5IEVsZWN0cm9uJ3MgU1FMaXRlIHZpYSBlbGVjdHJvbi9tYWluLmpzXG5cbmludGVyZmFjZSBDbGFzc3Jvb20ge1xuICBpZDogbnVtYmVyXG4gIG5hbWU6IHN0cmluZ1xuICBsZXZlbDogc3RyaW5nXG4gIGFjYWRlbWljX3llYXI6IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgc3R1ZGVudF9jb3VudD86IG51bWJlclxufVxuXG5pbnRlcmZhY2UgU3R1ZGVudCB7XG4gIGlkOiBudW1iZXJcbiAgc3R1ZGVudF9pZDogc3RyaW5nXG4gIGZpcnN0X25hbWU6IHN0cmluZ1xuICBsYXN0X25hbWU6IHN0cmluZ1xuICBjbGFzc3Jvb21faWQ6IG51bWJlclxuICBnZW5kZXI6IHN0cmluZ1xuICBiaXJ0aF9kYXRlPzogc3RyaW5nXG4gIGlzX2FjdGl2ZTogbnVtYmVyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBjbGFzc3Jvb21fbmFtZT86IHN0cmluZ1xufVxuXG4vLyBTY2hlZHVsZSBzdG9yYWdlXG5pbnRlcmZhY2UgU2NoZWR1bGVJdGVtIHtcbiAgY2xhc3Nyb29tX2lkOiBudW1iZXJcbiAgZGF5X29mX3dlZWs6IG51bWJlclxuICBwZXJpb2Q6IG51bWJlclxuICBzdWJqZWN0X2NvZGU6IHN0cmluZ1xuICBzdWJqZWN0X25hbWU6IHN0cmluZ1xuICBjbGFzc19sZXZlbDogc3RyaW5nXG4gIHJvb206IHN0cmluZ1xufVxuXG4vLyBBdHRlbmRhbmNlIHN0b3JhZ2VcbmludGVyZmFjZSBBdHRlbmRhbmNlRW50cnkge1xuICBzdHVkZW50X2lkOiBudW1iZXJcbiAgY2xhc3Nyb29tX2lkOiBudW1iZXJcbiAgZGF0ZTogc3RyaW5nXG4gIHN0YXR1czogc3RyaW5nXG4gIG5vdGU6IHN0cmluZ1xufVxuXG4vLyBIZWFsdGggc3RvcmFnZVxuaW50ZXJmYWNlIEhlYWx0aEVudHJ5IHtcbiAgc3R1ZGVudF9pZDogbnVtYmVyXG4gIGNsYXNzcm9vbV9pZDogbnVtYmVyXG4gIGRhdGU6IHN0cmluZ1xuICBicnVzaGVkX3RlZXRoOiBib29sZWFuXG4gIGRyYW5rX21pbGs6IGJvb2xlYW5cbn1cblxuLy8gR3JhZGUgc3RvcmFnZVxuaW50ZXJmYWNlIEdyYWRlRW50cnkge1xuICBzdHVkZW50X2lkOiBudW1iZXJcbiAgc3ViamVjdF9jb2RlOiBzdHJpbmdcbiAgc2NvcmU6IG51bWJlclxuICBjbGFzc3Jvb21faWQ6IG51bWJlclxuICBzZW1lc3RlcjogbnVtYmVyXG4gIGFjYWRlbWljX3llYXI6IHN0cmluZ1xufVxuXG4vLyDilIDilIDilIAgUGVyc2lzdCBhbGwgc3RvcmVzIG9uIGdsb2JhbFRoaXMgc28gSE1SIGRvZXNuJ3Qgd2lwZSBkYXRhIOKUgOKUgOKUgFxuaW50ZXJmYWNlIERiU3RvcmUge1xuICBjbGFzc3Jvb21zOiBDbGFzc3Jvb21bXVxuICBzdHVkZW50czogU3R1ZGVudFtdXG4gIHNjaGVkdWxlczogU2NoZWR1bGVJdGVtW11cbiAgYXR0ZW5kYW5jZVN0b3JlOiBBdHRlbmRhbmNlRW50cnlbXVxuICBoZWFsdGhTdG9yZTogSGVhbHRoRW50cnlbXVxuICBncmFkZXNTdG9yZTogR3JhZGVFbnRyeVtdXG4gIG5leHRDbGFzc3Jvb21JZDogbnVtYmVyXG4gIG5leHRTdHVkZW50SWQ6IG51bWJlclxufVxuXG5jb25zdCBnID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHsgX19kYj86IERiU3RvcmUgfVxuaWYgKCFnLl9fZGIpIHtcbiAgZy5fX2RiID0ge1xuICAgIGNsYXNzcm9vbXM6IFtdLFxuICAgIHN0dWRlbnRzOiBbXSxcbiAgICBzY2hlZHVsZXM6IFtdLFxuICAgIGF0dGVuZGFuY2VTdG9yZTogW10sXG4gICAgaGVhbHRoU3RvcmU6IFtdLFxuICAgIGdyYWRlc1N0b3JlOiBbXSxcbiAgICBuZXh0Q2xhc3Nyb29tSWQ6IDEsXG4gICAgbmV4dFN0dWRlbnRJZDogMSxcbiAgfVxufVxuY29uc3QgZGIgPSBnLl9fZGJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENsYXNzcm9vbXMoKTogQ2xhc3Nyb29tW10ge1xuICByZXR1cm4gZGIuY2xhc3Nyb29tcy5tYXAoYyA9PiAoe1xuICAgIC4uLmMsXG4gICAgc3R1ZGVudF9jb3VudDogZGIuc3R1ZGVudHMuZmlsdGVyKHMgPT4gcy5jbGFzc3Jvb21faWQgPT09IGMuaWQgJiYgcy5pc19hY3RpdmUgPT09IDEpLmxlbmd0aFxuICB9KSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsYXNzcm9vbShuYW1lOiBzdHJpbmcsIGxldmVsOiBzdHJpbmcsIGFjYWRlbWljWWVhcjogc3RyaW5nKTogQ2xhc3Nyb29tIHtcbiAgY29uc3QgY2xhc3Nyb29tOiBDbGFzc3Jvb20gPSB7XG4gICAgaWQ6IGRiLm5leHRDbGFzc3Jvb21JZCsrLFxuICAgIG5hbWUsXG4gICAgbGV2ZWwsXG4gICAgYWNhZGVtaWNfeWVhcjogYWNhZGVtaWNZZWFyLFxuICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBzdHVkZW50X2NvdW50OiAwXG4gIH1cbiAgZGIuY2xhc3Nyb29tcy5wdXNoKGNsYXNzcm9vbSlcbiAgcmV0dXJuIGNsYXNzcm9vbVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2xhc3Nyb29tKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgZGIuY2xhc3Nyb29tcyA9IGRiLmNsYXNzcm9vbXMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gaWQpXG4gIC8vIENhc2NhZGUgZGVsZXRlIGFzc29jaWF0ZWQgZGF0YVxuICBkYi5zdHVkZW50cyA9IGRiLnN0dWRlbnRzLmZpbHRlcihzID0+IHMuY2xhc3Nyb29tX2lkICE9PSBpZClcbiAgZGIuc2NoZWR1bGVzID0gZGIuc2NoZWR1bGVzLmZpbHRlcihzID0+IHMuY2xhc3Nyb29tX2lkICE9PSBpZClcbiAgZGIuZ3JhZGVzU3RvcmUgPSBkYi5ncmFkZXNTdG9yZS5maWx0ZXIoZyA9PiBnLmNsYXNzcm9vbV9pZCAhPT0gaWQpXG4gIGRiLmF0dGVuZGFuY2VTdG9yZSA9IGRiLmF0dGVuZGFuY2VTdG9yZS5maWx0ZXIoYSA9PiBhLmNsYXNzcm9vbV9pZCAhPT0gaWQpXG4gIGRiLmhlYWx0aFN0b3JlID0gZGIuaGVhbHRoU3RvcmUuZmlsdGVyKGggPT4gaC5jbGFzc3Jvb21faWQgIT09IGlkKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2xhc3Nyb29tKGlkOiBudW1iZXIsIGRhdGE6IHsgbmFtZT86IHN0cmluZzsgbGV2ZWw/OiBzdHJpbmc7IGFjYWRlbWljX3llYXI/OiBzdHJpbmcgfSk6IHZvaWQge1xuICBjb25zdCBpbmRleCA9IGRiLmNsYXNzcm9vbXMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gaWQpXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBkYi5jbGFzc3Jvb21zW2luZGV4XSA9IHsgLi4uZGIuY2xhc3Nyb29tc1tpbmRleF0sIC4uLmRhdGEgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHVkZW50c0J5Q2xhc3Nyb29tKGNsYXNzcm9vbUlkOiBudW1iZXIpOiBTdHVkZW50W10ge1xuICByZXR1cm4gZGIuc3R1ZGVudHNcbiAgICAuZmlsdGVyKHMgPT4gcy5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkICYmIHMuaXNfYWN0aXZlID09PSAxKVxuICAgIC5tYXAocyA9PiAoe1xuICAgICAgLi4ucyxcbiAgICAgIGNsYXNzcm9vbV9uYW1lOiBkYi5jbGFzc3Jvb21zLmZpbmQoYyA9PiBjLmlkID09PSBzLmNsYXNzcm9vbV9pZCk/Lm5hbWUgfHwgJydcbiAgICB9KSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFN0dWRlbnRzKCk6IFN0dWRlbnRbXSB7XG4gIHJldHVybiBkYi5zdHVkZW50c1xuICAgIC5maWx0ZXIocyA9PiBzLmlzX2FjdGl2ZSA9PT0gMSlcbiAgICAubWFwKHMgPT4gKHtcbiAgICAgIC4uLnMsXG4gICAgICBjbGFzc3Jvb21fbmFtZTogZGIuY2xhc3Nyb29tcy5maW5kKGMgPT4gYy5pZCA9PT0gcy5jbGFzc3Jvb21faWQpPy5uYW1lIHx8ICcnXG4gICAgfSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHVkZW50KGRhdGE6IHtcbiAgc3R1ZGVudF9pZDogc3RyaW5nXG4gIGZpcnN0X25hbWU6IHN0cmluZ1xuICBsYXN0X25hbWU6IHN0cmluZ1xuICBjbGFzc3Jvb21faWQ6IG51bWJlclxuICBnZW5kZXI6IHN0cmluZ1xuICBiaXJ0aF9kYXRlPzogc3RyaW5nXG59KTogU3R1ZGVudCB7XG4gIGNvbnN0IHN0dWRlbnQ6IFN0dWRlbnQgPSB7XG4gICAgaWQ6IGRiLm5leHRTdHVkZW50SWQrKyxcbiAgICAuLi5kYXRhLFxuICAgIGlzX2FjdGl2ZTogMSxcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgfVxuICBkYi5zdHVkZW50cy5wdXNoKHN0dWRlbnQpXG4gIHJldHVybiBzdHVkZW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTdHVkZW50KGlkOiBudW1iZXIsIGRhdGE6IFBhcnRpYWw8U3R1ZGVudD4pOiB2b2lkIHtcbiAgY29uc3QgaW5kZXggPSBkYi5zdHVkZW50cy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBpZClcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGRiLnN0dWRlbnRzW2luZGV4XSA9IHsgLi4uZGIuc3R1ZGVudHNbaW5kZXhdLCAuLi5kYXRhIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlU3R1ZGVudChpZDogbnVtYmVyKTogdm9pZCB7XG4gIGNvbnN0IGluZGV4ID0gZGIuc3R1ZGVudHMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gaWQpXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBkYi5zdHVkZW50c1tpbmRleF0uaXNfYWN0aXZlID0gMFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2hlZHVsZUJ5Q2xhc3Nyb29tKGNsYXNzcm9vbUlkOiBudW1iZXIpOiBTY2hlZHVsZUl0ZW1bXSB7XG4gIHJldHVybiBkYi5zY2hlZHVsZXMuZmlsdGVyKHMgPT4gcy5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVNjaGVkdWxlKGNsYXNzcm9vbUlkOiBudW1iZXIsIGl0ZW1zOiBTY2hlZHVsZUl0ZW1bXSk6IHZvaWQge1xuICBkYi5zY2hlZHVsZXMgPSBkYi5zY2hlZHVsZXMuZmlsdGVyKHMgPT4gcy5jbGFzc3Jvb21faWQgIT09IGNsYXNzcm9vbUlkKVxuICBkYi5zY2hlZHVsZXMucHVzaCguLi5pdGVtcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyYWRlc0J5Q2xhc3Nyb29tKGNsYXNzcm9vbUlkOiBudW1iZXIsIHNlbWVzdGVyOiBudW1iZXIsIHllYXI6IHN0cmluZyk6IEdyYWRlRW50cnlbXSB7XG4gIHJldHVybiBkYi5ncmFkZXNTdG9yZS5maWx0ZXIoXG4gICAgZyA9PiBnLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgZy5zZW1lc3RlciA9PT0gc2VtZXN0ZXIgJiYgZy5hY2FkZW1pY195ZWFyID09PSB5ZWFyXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVHcmFkZXMoY2xhc3Nyb29tSWQ6IG51bWJlciwgc2VtZXN0ZXI6IG51bWJlciwgeWVhcjogc3RyaW5nLCBlbnRyaWVzOiBHcmFkZUVudHJ5W10pOiB2b2lkIHtcbiAgZGIuZ3JhZGVzU3RvcmUgPSBkYi5ncmFkZXNTdG9yZS5maWx0ZXIoXG4gICAgZyA9PiAhKGcuY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZCAmJiBnLnNlbWVzdGVyID09PSBzZW1lc3RlciAmJiBnLmFjYWRlbWljX3llYXIgPT09IHllYXIpXG4gIClcbiAgZGIuZ3JhZGVzU3RvcmUucHVzaCguLi5lbnRyaWVzKVxufVxuXG4vLyBBdHRlbmRhbmNlIGZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF0dGVuZGFuY2VCeUNsYXNzcm9vbShjbGFzc3Jvb21JZDogbnVtYmVyLCBkYXRlOiBzdHJpbmcpOiBBdHRlbmRhbmNlRW50cnlbXSB7XG4gIHJldHVybiBkYi5hdHRlbmRhbmNlU3RvcmUuZmlsdGVyKGEgPT4gYS5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkICYmIGEuZGF0ZSA9PT0gZGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF0dGVuZGFuY2VCeUNsYXNzcm9vbVJhbmdlKGNsYXNzcm9vbUlkOiBudW1iZXIsIHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBBdHRlbmRhbmNlRW50cnlbXSB7XG4gIHJldHVybiBkYi5hdHRlbmRhbmNlU3RvcmUuZmlsdGVyKGEgPT4gYS5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkICYmIGEuZGF0ZSA+PSBzdGFydERhdGUgJiYgYS5kYXRlIDw9IGVuZERhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxBdHRlbmRhbmNlQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQ6IG51bWJlcik6IEF0dGVuZGFuY2VFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmF0dGVuZGFuY2VTdG9yZS5maWx0ZXIoYSA9PiBhLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlQXR0ZW5kYW5jZShjbGFzc3Jvb21JZDogbnVtYmVyLCBkYXRlOiBzdHJpbmcsIGVudHJpZXM6IEF0dGVuZGFuY2VFbnRyeVtdKTogdm9pZCB7XG4gIGRiLmF0dGVuZGFuY2VTdG9yZSA9IGRiLmF0dGVuZGFuY2VTdG9yZS5maWx0ZXIoYSA9PiAhKGEuY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZCAmJiBhLmRhdGUgPT09IGRhdGUpKVxuICBkYi5hdHRlbmRhbmNlU3RvcmUucHVzaCguLi5lbnRyaWVzKVxufVxuXG4vLyBIZWFsdGggZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGVhbHRoQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQ6IG51bWJlciwgZGF0ZTogc3RyaW5nKTogSGVhbHRoRW50cnlbXSB7XG4gIHJldHVybiBkYi5oZWFsdGhTdG9yZS5maWx0ZXIoaCA9PiBoLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgaC5kYXRlID09PSBkYXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGVhbHRoQnlDbGFzc3Jvb21SYW5nZShjbGFzc3Jvb21JZDogbnVtYmVyLCBzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogSGVhbHRoRW50cnlbXSB7XG4gIHJldHVybiBkYi5oZWFsdGhTdG9yZS5maWx0ZXIoaCA9PiBoLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgaC5kYXRlID49IHN0YXJ0RGF0ZSAmJiBoLmRhdGUgPD0gZW5kRGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbEhlYWx0aEJ5Q2xhc3Nyb29tKGNsYXNzcm9vbUlkOiBudW1iZXIpOiBIZWFsdGhFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmhlYWx0aFN0b3JlLmZpbHRlcihoID0+IGguY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVIZWFsdGgoY2xhc3Nyb29tSWQ6IG51bWJlciwgZGF0ZTogc3RyaW5nLCBlbnRyaWVzOiBIZWFsdGhFbnRyeVtdKTogdm9pZCB7XG4gIGRiLmhlYWx0aFN0b3JlID0gZGIuaGVhbHRoU3RvcmUuZmlsdGVyKGggPT4gIShoLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgaC5kYXRlID09PSBkYXRlKSlcbiAgZGIuaGVhbHRoU3RvcmUucHVzaCguLi5lbnRyaWVzKVxufVxuXG4vLyBFeHBvcnQgYWxsIGRhdGFcbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRBbGxEYXRhKCkge1xuICByZXR1cm4ge1xuICAgIGNsYXNzcm9vbXM6IGdldEFsbENsYXNzcm9vbXMoKSxcbiAgICBzdHVkZW50czogZ2V0QWxsU3R1ZGVudHMoKSxcbiAgICBzY2hlZHVsZTogZGIuc2NoZWR1bGVzLFxuICAgIGdyYWRlczogZGIuZ3JhZGVzU3RvcmUsXG4gICAgYXR0ZW5kYW5jZTogZGIuYXR0ZW5kYW5jZVN0b3JlLFxuICAgIGhlYWx0aF9jaGVjazogZGIuaGVhbHRoU3RvcmUsXG4gICAgZXhwb3J0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB2ZXJzaW9uOiAnMS4wJ1xuICB9XG59XG5cbi8vIEltcG9ydCBkYXRhXG5leHBvcnQgZnVuY3Rpb24gaW1wb3J0RGF0YShkYXRhOiB7XG4gIGNsYXNzcm9vbXM/OiBDbGFzc3Jvb21bXVxuICBzdHVkZW50cz86IFN0dWRlbnRbXVxuICBzY2hlZHVsZT86IFNjaGVkdWxlSXRlbVtdXG4gIGdyYWRlcz86IGFueVtdXG4gIGF0dGVuZGFuY2U/OiBhbnlbXVxuICBoZWFsdGhfY2hlY2s/OiBhbnlbXVxufSk6IHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfSB7XG4gIHRyeSB7XG4gICAgaWYgKGRhdGEuY2xhc3Nyb29tcykge1xuICAgICAgZGIuY2xhc3Nyb29tcyA9IGRhdGEuY2xhc3Nyb29tc1xuICAgICAgZGIubmV4dENsYXNzcm9vbUlkID0gTWF0aC5tYXgoLi4uZGIuY2xhc3Nyb29tcy5tYXAoYyA9PiBjLmlkKSwgMCkgKyAxXG4gICAgfVxuICAgIGlmIChkYXRhLnN0dWRlbnRzKSB7XG4gICAgICBkYi5zdHVkZW50cyA9IGRhdGEuc3R1ZGVudHMubWFwKHMgPT4gKHsgLi4ucywgaXNfYWN0aXZlOiBzLmlzX2FjdGl2ZSA/PyAxIH0pKVxuICAgICAgZGIubmV4dFN0dWRlbnRJZCA9IE1hdGgubWF4KC4uLmRiLnN0dWRlbnRzLm1hcChzID0+IHMuaWQpLCAwKSArIDFcbiAgICB9XG4gICAgaWYgKGRhdGEuc2NoZWR1bGUpIHtcbiAgICAgIGRiLnNjaGVkdWxlcyA9IGRhdGEuc2NoZWR1bGVcbiAgICB9XG4gICAgaWYgKGRhdGEuZ3JhZGVzKSB7XG4gICAgICBkYi5ncmFkZXNTdG9yZSA9IGRhdGEuZ3JhZGVzXG4gICAgfVxuICAgIGlmIChkYXRhLmF0dGVuZGFuY2UpIHtcbiAgICAgIGRiLmF0dGVuZGFuY2VTdG9yZSA9IGRhdGEuYXR0ZW5kYW5jZVxuICAgIH1cbiAgICBpZiAoZGF0YS5oZWFsdGhfY2hlY2spIHtcbiAgICAgIGRiLmhlYWx0aFN0b3JlID0gZGF0YS5oZWFsdGhfY2hlY2tcbiAgICB9XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImciLCJnbG9iYWxUaGlzIiwiX19kYiIsImNsYXNzcm9vbXMiLCJzdHVkZW50cyIsInNjaGVkdWxlcyIsImF0dGVuZGFuY2VTdG9yZSIsImhlYWx0aFN0b3JlIiwiZ3JhZGVzU3RvcmUiLCJuZXh0Q2xhc3Nyb29tSWQiLCJuZXh0U3R1ZGVudElkIiwiZGIiLCJnZXRBbGxDbGFzc3Jvb21zIiwibWFwIiwiYyIsInN0dWRlbnRfY291bnQiLCJmaWx0ZXIiLCJzIiwiY2xhc3Nyb29tX2lkIiwiaWQiLCJpc19hY3RpdmUiLCJsZW5ndGgiLCJjcmVhdGVDbGFzc3Jvb20iLCJuYW1lIiwibGV2ZWwiLCJhY2FkZW1pY1llYXIiLCJjbGFzc3Jvb20iLCJhY2FkZW1pY195ZWFyIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInB1c2giLCJkZWxldGVDbGFzc3Jvb20iLCJhIiwiaCIsInVwZGF0ZUNsYXNzcm9vbSIsImRhdGEiLCJpbmRleCIsImZpbmRJbmRleCIsImdldFN0dWRlbnRzQnlDbGFzc3Jvb20iLCJjbGFzc3Jvb21JZCIsImNsYXNzcm9vbV9uYW1lIiwiZmluZCIsImdldEFsbFN0dWRlbnRzIiwiY3JlYXRlU3R1ZGVudCIsInN0dWRlbnQiLCJ1cGRhdGVTdHVkZW50IiwiZGVsZXRlU3R1ZGVudCIsImdldFNjaGVkdWxlQnlDbGFzc3Jvb20iLCJzYXZlU2NoZWR1bGUiLCJpdGVtcyIsImdldEdyYWRlc0J5Q2xhc3Nyb29tIiwic2VtZXN0ZXIiLCJ5ZWFyIiwic2F2ZUdyYWRlcyIsImVudHJpZXMiLCJnZXRBdHRlbmRhbmNlQnlDbGFzc3Jvb20iLCJkYXRlIiwiZ2V0QXR0ZW5kYW5jZUJ5Q2xhc3Nyb29tUmFuZ2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiZ2V0QWxsQXR0ZW5kYW5jZUJ5Q2xhc3Nyb29tIiwic2F2ZUF0dGVuZGFuY2UiLCJnZXRIZWFsdGhCeUNsYXNzcm9vbSIsImdldEhlYWx0aEJ5Q2xhc3Nyb29tUmFuZ2UiLCJnZXRBbGxIZWFsdGhCeUNsYXNzcm9vbSIsInNhdmVIZWFsdGgiLCJleHBvcnRBbGxEYXRhIiwic2NoZWR1bGUiLCJncmFkZXMiLCJhdHRlbmRhbmNlIiwiaGVhbHRoX2NoZWNrIiwiZXhwb3J0ZWRfYXQiLCJ2ZXJzaW9uIiwiaW1wb3J0RGF0YSIsIk1hdGgiLCJtYXgiLCJzdWNjZXNzIiwiZXJyb3IiLCJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgrades%2Froute&page=%2Fapi%2Fgrades%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgrades%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();