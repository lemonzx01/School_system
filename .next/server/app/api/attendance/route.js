"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/attendance/route";
exports.ids = ["app/api/attendance/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Froute&page=%2Fapi%2Fattendance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Froute&page=%2Fapi%2Fattendance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var F_Student_name_checking_School_system_src_app_api_attendance_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/attendance/route.ts */ \"(rsc)/./src/app/api/attendance/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/attendance/route\",\n        pathname: \"/api/attendance\",\n        filename: \"route\",\n        bundlePath: \"app/api/attendance/route\"\n    },\n    resolvedPagePath: \"F:\\\\Student_name_checking\\\\School_system\\\\src\\\\app\\\\api\\\\attendance\\\\route.ts\",\n    nextConfigOutput,\n    userland: F_Student_name_checking_School_system_src_app_api_attendance_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/attendance/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdHRlbmRhbmNlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdHRlbmRhbmNlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXR0ZW5kYW5jZSUyRnJvdXRlLnRzJmFwcERpcj1GJTNBJTVDU3R1ZGVudF9uYW1lX2NoZWNraW5nJTVDU2Nob29sX3N5c3RlbSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RiUzQSU1Q1N0dWRlbnRfbmFtZV9jaGVja2luZyU1Q1NjaG9vbF9zeXN0ZW0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sX3N5c3RlbS8/Y2JiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJGOlxcXFxTdHVkZW50X25hbWVfY2hlY2tpbmdcXFxcU2Nob29sX3N5c3RlbVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdHRlbmRhbmNlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdHRlbmRhbmNlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXR0ZW5kYW5jZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXR0ZW5kYW5jZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkY6XFxcXFN0dWRlbnRfbmFtZV9jaGVja2luZ1xcXFxTY2hvb2xfc3lzdGVtXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF0dGVuZGFuY2VcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F0dGVuZGFuY2Uvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Froute&page=%2Fapi%2Fattendance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/attendance/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/attendance/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const date = searchParams.get(\"date\");\n        const classroom = searchParams.get(\"classroom\");\n        if (!date || !classroom) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json([]);\n        }\n        const classroomId = Number(classroom);\n        const students = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getStudentsByClassroom)(classroomId);\n        const attendanceData = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getAttendanceByClassroom)(classroomId, date);\n        const healthData = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getHealthByClassroom)(classroomId, date);\n        // Merge attendance + health per student\n        const result = students.map((s)=>{\n            const att = attendanceData.find((a)=>a.student_id === s.id);\n            const hl = healthData.find((h)=>h.student_id === s.id);\n            return {\n                id: s.id,\n                student_id: s.student_id,\n                first_name: s.first_name,\n                last_name: s.last_name,\n                status: att?.status || \"มา\",\n                note: att?.note || \"\",\n                brushed_teeth: hl?.brushed_teeth ? 1 : 0,\n                drank_milk: hl?.drank_milk ? 1 : 0\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error(\"[API] GET /attendance error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch attendance\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { date, classroom, attendance, health } = body;\n        if (!date || !classroom) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing date or classroom\"\n            }, {\n                status: 400\n            });\n        }\n        const classroomId = Number(classroom);\n        // Save attendance\n        if (attendance) {\n            const attEntries = Object.entries(attendance).map(([studentId, data])=>({\n                    student_id: Number(studentId),\n                    classroom_id: classroomId,\n                    date,\n                    status: data.status || \"มา\",\n                    note: data.note || \"\"\n                }));\n            (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.saveAttendance)(classroomId, date, attEntries);\n        }\n        // Save health\n        if (health) {\n            const healthEntries = Object.entries(health).map(([studentId, data])=>({\n                    student_id: Number(studentId),\n                    classroom_id: classroomId,\n                    date,\n                    brushed_teeth: Boolean(data.brushed_teeth),\n                    drank_milk: Boolean(data.drank_milk)\n                }));\n            (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.saveHealth)(classroomId, date, healthEntries);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"[API] POST /attendance error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to save attendance\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekNDLFlBQVljLFFBQVFILEtBQUtYLFVBQVU7Z0JBQ3JDO1lBQ0EvQixtREFBVUEsQ0FBQ1csYUFBYUosTUFBTXFDO1FBQ2hDO1FBRUEsT0FBT2hELHFEQUFZQSxDQUFDYyxJQUFJLENBQUM7WUFBRW9DLFNBQVM7UUFBSztJQUMzQyxFQUFFLE9BQU9kLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsT0FBT3BDLHFEQUFZQSxDQUFDYyxJQUFJLENBQUM7WUFBRXNCLE9BQU87UUFBNEIsR0FBRztZQUFFSixRQUFRO1FBQUk7SUFDakY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NjaG9vbF9zeXN0ZW0vLi9zcmMvYXBwL2FwaS9hdHRlbmRhbmNlL3JvdXRlLnRzP2M0NWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBnZXRBdHRlbmRhbmNlQnlDbGFzc3Jvb20sIHNhdmVBdHRlbmRhbmNlLCBnZXRIZWFsdGhCeUNsYXNzcm9vbSwgc2F2ZUhlYWx0aCwgZ2V0U3R1ZGVudHNCeUNsYXNzcm9vbSB9IGZyb20gJ0AvbGliL2RiJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBkYXRlID0gc2VhcmNoUGFyYW1zLmdldCgnZGF0ZScpXG4gICAgY29uc3QgY2xhc3Nyb29tID0gc2VhcmNoUGFyYW1zLmdldCgnY2xhc3Nyb29tJylcblxuICAgIGlmICghZGF0ZSB8fCAhY2xhc3Nyb29tKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oW10pXG4gICAgfVxuXG4gICAgY29uc3QgY2xhc3Nyb29tSWQgPSBOdW1iZXIoY2xhc3Nyb29tKVxuICAgIGNvbnN0IHN0dWRlbnRzID0gZ2V0U3R1ZGVudHNCeUNsYXNzcm9vbShjbGFzc3Jvb21JZClcbiAgICBjb25zdCBhdHRlbmRhbmNlRGF0YSA9IGdldEF0dGVuZGFuY2VCeUNsYXNzcm9vbShjbGFzc3Jvb21JZCwgZGF0ZSlcbiAgICBjb25zdCBoZWFsdGhEYXRhID0gZ2V0SGVhbHRoQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQsIGRhdGUpXG5cbiAgICAvLyBNZXJnZSBhdHRlbmRhbmNlICsgaGVhbHRoIHBlciBzdHVkZW50XG4gICAgY29uc3QgcmVzdWx0ID0gc3R1ZGVudHMubWFwKHMgPT4ge1xuICAgICAgY29uc3QgYXR0ID0gYXR0ZW5kYW5jZURhdGEuZmluZChhID0+IGEuc3R1ZGVudF9pZCA9PT0gcy5pZClcbiAgICAgIGNvbnN0IGhsID0gaGVhbHRoRGF0YS5maW5kKGggPT4gaC5zdHVkZW50X2lkID09PSBzLmlkKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHMuaWQsXG4gICAgICAgIHN0dWRlbnRfaWQ6IHMuc3R1ZGVudF9pZCxcbiAgICAgICAgZmlyc3RfbmFtZTogcy5maXJzdF9uYW1lLFxuICAgICAgICBsYXN0X25hbWU6IHMubGFzdF9uYW1lLFxuICAgICAgICBzdGF0dXM6IGF0dD8uc3RhdHVzIHx8ICfguKHguLInLFxuICAgICAgICBub3RlOiBhdHQ/Lm5vdGUgfHwgJycsXG4gICAgICAgIGJydXNoZWRfdGVldGg6IGhsPy5icnVzaGVkX3RlZXRoID8gMSA6IDAsXG4gICAgICAgIGRyYW5rX21pbGs6IGhsPy5kcmFua19taWxrID8gMSA6IDAsXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHQpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0FQSV0gR0VUIC9hdHRlbmRhbmNlIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGF0dGVuZGFuY2UnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBkYXRlLCBjbGFzc3Jvb20sIGF0dGVuZGFuY2UsIGhlYWx0aCB9ID0gYm9keVxuXG4gICAgaWYgKCFkYXRlIHx8ICFjbGFzc3Jvb20pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyBkYXRlIG9yIGNsYXNzcm9vbScgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzcm9vbUlkID0gTnVtYmVyKGNsYXNzcm9vbSlcblxuICAgIC8vIFNhdmUgYXR0ZW5kYW5jZVxuICAgIGlmIChhdHRlbmRhbmNlKSB7XG4gICAgICBjb25zdCBhdHRFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoYXR0ZW5kYW5jZSkubWFwKChbc3R1ZGVudElkLCBkYXRhXTogW3N0cmluZywgYW55XSkgPT4gKHtcbiAgICAgICAgc3R1ZGVudF9pZDogTnVtYmVyKHN0dWRlbnRJZCksXG4gICAgICAgIGNsYXNzcm9vbV9pZDogY2xhc3Nyb29tSWQsXG4gICAgICAgIGRhdGUsXG4gICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJ+C4oeC4sicsXG4gICAgICAgIG5vdGU6IGRhdGEubm90ZSB8fCAnJ1xuICAgICAgfSkpXG4gICAgICBzYXZlQXR0ZW5kYW5jZShjbGFzc3Jvb21JZCwgZGF0ZSwgYXR0RW50cmllcylcbiAgICB9XG5cbiAgICAvLyBTYXZlIGhlYWx0aFxuICAgIGlmIChoZWFsdGgpIHtcbiAgICAgIGNvbnN0IGhlYWx0aEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhoZWFsdGgpLm1hcCgoW3N0dWRlbnRJZCwgZGF0YV06IFtzdHJpbmcsIGFueV0pID0+ICh7XG4gICAgICAgIHN0dWRlbnRfaWQ6IE51bWJlcihzdHVkZW50SWQpLFxuICAgICAgICBjbGFzc3Jvb21faWQ6IGNsYXNzcm9vbUlkLFxuICAgICAgICBkYXRlLFxuICAgICAgICBicnVzaGVkX3RlZXRoOiBCb29sZWFuKGRhdGEuYnJ1c2hlZF90ZWV0aCksXG4gICAgICAgIGRyYW5rX21pbGs6IEJvb2xlYW4oZGF0YS5kcmFua19taWxrKVxuICAgICAgfSkpXG4gICAgICBzYXZlSGVhbHRoKGNsYXNzcm9vbUlkLCBkYXRlLCBoZWFsdGhFbnRyaWVzKVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQVBJXSBQT1NUIC9hdHRlbmRhbmNlIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHNhdmUgYXR0ZW5kYW5jZScgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0QXR0ZW5kYW5jZUJ5Q2xhc3Nyb29tIiwic2F2ZUF0dGVuZGFuY2UiLCJnZXRIZWFsdGhCeUNsYXNzcm9vbSIsInNhdmVIZWFsdGgiLCJnZXRTdHVkZW50c0J5Q2xhc3Nyb29tIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImRhdGUiLCJnZXQiLCJjbGFzc3Jvb20iLCJqc29uIiwiY2xhc3Nyb29tSWQiLCJOdW1iZXIiLCJzdHVkZW50cyIsImF0dGVuZGFuY2VEYXRhIiwiaGVhbHRoRGF0YSIsInJlc3VsdCIsIm1hcCIsInMiLCJhdHQiLCJmaW5kIiwiYSIsInN0dWRlbnRfaWQiLCJpZCIsImhsIiwiaCIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJzdGF0dXMiLCJub3RlIiwiYnJ1c2hlZF90ZWV0aCIsImRyYW5rX21pbGsiLCJlcnJvciIsImNvbnNvbGUiLCJQT1NUIiwiYm9keSIsImF0dGVuZGFuY2UiLCJoZWFsdGgiLCJhdHRFbnRyaWVzIiwiT2JqZWN0IiwiZW50cmllcyIsInN0dWRlbnRJZCIsImRhdGEiLCJjbGFzc3Jvb21faWQiLCJoZWFsdGhFbnRyaWVzIiwiQm9vbGVhbiIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/attendance/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAllData: () => (/* binding */ clearAllData),\n/* harmony export */   createClassroom: () => (/* binding */ createClassroom),\n/* harmony export */   createStudent: () => (/* binding */ createStudent),\n/* harmony export */   deleteClassroom: () => (/* binding */ deleteClassroom),\n/* harmony export */   deleteStudent: () => (/* binding */ deleteStudent),\n/* harmony export */   exportAllData: () => (/* binding */ exportAllData),\n/* harmony export */   getAllAttendanceByClassroom: () => (/* binding */ getAllAttendanceByClassroom),\n/* harmony export */   getAllClassrooms: () => (/* binding */ getAllClassrooms),\n/* harmony export */   getAllHealthByClassroom: () => (/* binding */ getAllHealthByClassroom),\n/* harmony export */   getAllStudents: () => (/* binding */ getAllStudents),\n/* harmony export */   getAttendanceByClassroom: () => (/* binding */ getAttendanceByClassroom),\n/* harmony export */   getAttendanceByClassroomRange: () => (/* binding */ getAttendanceByClassroomRange),\n/* harmony export */   getGradesByClassroom: () => (/* binding */ getGradesByClassroom),\n/* harmony export */   getHealthByClassroom: () => (/* binding */ getHealthByClassroom),\n/* harmony export */   getHealthByClassroomRange: () => (/* binding */ getHealthByClassroomRange),\n/* harmony export */   getScheduleByClassroom: () => (/* binding */ getScheduleByClassroom),\n/* harmony export */   getStudentsByClassroom: () => (/* binding */ getStudentsByClassroom),\n/* harmony export */   importData: () => (/* binding */ importData),\n/* harmony export */   saveAttendance: () => (/* binding */ saveAttendance),\n/* harmony export */   saveGrades: () => (/* binding */ saveGrades),\n/* harmony export */   saveHealth: () => (/* binding */ saveHealth),\n/* harmony export */   saveSchedule: () => (/* binding */ saveSchedule),\n/* harmony export */   updateClassroom: () => (/* binding */ updateClassroom),\n/* harmony export */   updateStudent: () => (/* binding */ updateStudent)\n/* harmony export */ });\n// In-memory database for web mode\n// Uses globalThis to persist data across Next.js HMR (hot module replacement)\n// Actual production data is managed by Electron's SQLite via electron/main.js\nconst g = globalThis;\nif (!g.__db) {\n    g.__db = {\n        classrooms: [],\n        students: [],\n        schedules: [],\n        attendanceStore: [],\n        healthStore: [],\n        gradesStore: [],\n        nextClassroomId: 1,\n        nextStudentId: 1\n    };\n}\nconst db = g.__db;\nfunction getAllClassrooms() {\n    return db.classrooms.map((c)=>({\n            ...c,\n            student_count: db.students.filter((s)=>s.classroom_id === c.id && s.is_active === 1).length\n        }));\n}\nfunction createClassroom(name, level, academicYear) {\n    const classroom = {\n        id: db.nextClassroomId++,\n        name,\n        level,\n        academic_year: academicYear,\n        created_at: new Date().toISOString(),\n        student_count: 0\n    };\n    db.classrooms.push(classroom);\n    return classroom;\n}\nfunction deleteClassroom(id) {\n    db.classrooms = db.classrooms.filter((c)=>c.id !== id);\n    // Cascade delete associated data\n    db.students = db.students.filter((s)=>s.classroom_id !== id);\n    db.schedules = db.schedules.filter((s)=>s.classroom_id !== id);\n    db.gradesStore = db.gradesStore.filter((g)=>g.classroom_id !== id);\n    db.attendanceStore = db.attendanceStore.filter((a)=>a.classroom_id !== id);\n    db.healthStore = db.healthStore.filter((h)=>h.classroom_id !== id);\n}\nfunction updateClassroom(id, data) {\n    const index = db.classrooms.findIndex((c)=>c.id === id);\n    if (index !== -1) {\n        db.classrooms[index] = {\n            ...db.classrooms[index],\n            ...data\n        };\n    }\n}\nfunction getStudentsByClassroom(classroomId) {\n    return db.students.filter((s)=>s.classroom_id === classroomId && s.is_active === 1).map((s)=>({\n            ...s,\n            classroom_name: db.classrooms.find((c)=>c.id === s.classroom_id)?.name || \"\"\n        }));\n}\nfunction getAllStudents() {\n    return db.students.filter((s)=>s.is_active === 1).map((s)=>({\n            ...s,\n            classroom_name: db.classrooms.find((c)=>c.id === s.classroom_id)?.name || \"\"\n        }));\n}\nfunction createStudent(data) {\n    const student = {\n        id: db.nextStudentId++,\n        ...data,\n        is_active: 1,\n        created_at: new Date().toISOString()\n    };\n    db.students.push(student);\n    return student;\n}\nfunction updateStudent(id, data) {\n    const index = db.students.findIndex((s)=>s.id === id);\n    if (index !== -1) {\n        db.students[index] = {\n            ...db.students[index],\n            ...data\n        };\n    }\n}\nfunction deleteStudent(id) {\n    const index = db.students.findIndex((s)=>s.id === id);\n    if (index !== -1) {\n        db.students[index].is_active = 0;\n    }\n}\nfunction getScheduleByClassroom(classroomId) {\n    return db.schedules.filter((s)=>s.classroom_id === classroomId);\n}\nfunction saveSchedule(classroomId, items) {\n    db.schedules = db.schedules.filter((s)=>s.classroom_id !== classroomId);\n    db.schedules.push(...items);\n}\nfunction getGradesByClassroom(classroomId, semester, year) {\n    return db.gradesStore.filter((g)=>g.classroom_id === classroomId && g.semester === semester && g.academic_year === year);\n}\nfunction saveGrades(classroomId, semester, year, entries) {\n    db.gradesStore = db.gradesStore.filter((g)=>!(g.classroom_id === classroomId && g.semester === semester && g.academic_year === year));\n    db.gradesStore.push(...entries);\n}\n// Attendance functions\nfunction getAttendanceByClassroom(classroomId, date) {\n    return db.attendanceStore.filter((a)=>a.classroom_id === classroomId && a.date === date);\n}\nfunction getAttendanceByClassroomRange(classroomId, startDate, endDate) {\n    return db.attendanceStore.filter((a)=>a.classroom_id === classroomId && a.date >= startDate && a.date <= endDate);\n}\nfunction getAllAttendanceByClassroom(classroomId) {\n    return db.attendanceStore.filter((a)=>a.classroom_id === classroomId);\n}\nfunction saveAttendance(classroomId, date, entries) {\n    db.attendanceStore = db.attendanceStore.filter((a)=>!(a.classroom_id === classroomId && a.date === date));\n    db.attendanceStore.push(...entries);\n}\n// Health functions\nfunction getHealthByClassroom(classroomId, date) {\n    return db.healthStore.filter((h)=>h.classroom_id === classroomId && h.date === date);\n}\nfunction getHealthByClassroomRange(classroomId, startDate, endDate) {\n    return db.healthStore.filter((h)=>h.classroom_id === classroomId && h.date >= startDate && h.date <= endDate);\n}\nfunction getAllHealthByClassroom(classroomId) {\n    return db.healthStore.filter((h)=>h.classroom_id === classroomId);\n}\nfunction saveHealth(classroomId, date, entries) {\n    db.healthStore = db.healthStore.filter((h)=>!(h.classroom_id === classroomId && h.date === date));\n    db.healthStore.push(...entries);\n}\n// Clear all data\nfunction clearAllData() {\n    db.classrooms = [];\n    db.students = [];\n    db.schedules = [];\n    db.attendanceStore = [];\n    db.healthStore = [];\n    db.gradesStore = [];\n    db.nextClassroomId = 1;\n    db.nextStudentId = 1;\n    return {\n        success: true\n    };\n}\n// Export all data\nfunction exportAllData() {\n    return {\n        classrooms: getAllClassrooms(),\n        students: getAllStudents(),\n        schedule: db.schedules,\n        grades: db.gradesStore,\n        attendance: db.attendanceStore,\n        health_check: db.healthStore,\n        exported_at: new Date().toISOString(),\n        version: \"1.0\"\n    };\n}\n// Import data\nfunction importData(data) {\n    try {\n        if (data.classrooms) {\n            db.classrooms = data.classrooms;\n            db.nextClassroomId = Math.max(...db.classrooms.map((c)=>c.id), 0) + 1;\n        }\n        if (data.students) {\n            db.students = data.students.map((s)=>({\n                    ...s,\n                    is_active: s.is_active ?? 1\n                }));\n            db.nextStudentId = Math.max(...db.students.map((s)=>s.id), 0) + 1;\n        }\n        if (data.schedule) {\n            db.schedules = data.schedule;\n        }\n        if (data.grades) {\n            db.gradesStore = data.grades;\n        }\n        if (data.attendance) {\n            db.attendanceStore = data.attendance;\n        }\n        if (data.health_check) {\n            db.healthStore = data.health_check;\n        }\n        return {\n            success: true\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: String(error)\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S2hDLFFBQVEsRUFBRTtZQUNqQk8sR0FBR1AsUUFBUSxHQUFHZ0MsS0FBS2hDLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDSSxDQUFBQSxJQUFNO29CQUFFLEdBQUdBLENBQUM7b0JBQUVHLFdBQVdILEVBQUVHLFNBQVMsSUFBSTtnQkFBRTtZQUMxRVQsR0FBR0QsYUFBYSxHQUFHbUUsS0FBS0MsR0FBRyxJQUFJbkUsR0FBR1AsUUFBUSxDQUFDUyxHQUFHLENBQUNJLENBQUFBLElBQUtBLEVBQUVFLEVBQUUsR0FBRyxLQUFLO1FBQ2xFO1FBQ0EsSUFBSWlCLEtBQUtrQyxRQUFRLEVBQUU7WUFDakIzRCxHQUFHTixTQUFTLEdBQUcrQixLQUFLa0MsUUFBUTtRQUM5QjtRQUNBLElBQUlsQyxLQUFLbUMsTUFBTSxFQUFFO1lBQ2Y1RCxHQUFHSCxXQUFXLEdBQUc0QixLQUFLbUMsTUFBTTtRQUM5QjtRQUNBLElBQUluQyxLQUFLb0MsVUFBVSxFQUFFO1lBQ25CN0QsR0FBR0wsZUFBZSxHQUFHOEIsS0FBS29DLFVBQVU7UUFDdEM7UUFDQSxJQUFJcEMsS0FBS3FDLFlBQVksRUFBRTtZQUNyQjlELEdBQUdKLFdBQVcsR0FBRzZCLEtBQUtxQyxZQUFZO1FBQ3BDO1FBQ0EsT0FBTztZQUFFTCxTQUFTO1FBQUs7SUFDekIsRUFBRSxPQUFPVyxPQUFPO1FBQ2QsT0FBTztZQUFFWCxTQUFTO1lBQU9XLE9BQU9DLE9BQU9EO1FBQU87SUFDaEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NjaG9vbF9zeXN0ZW0vLi9zcmMvbGliL2RiLnRzPzllNGYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW4tbWVtb3J5IGRhdGFiYXNlIGZvciB3ZWIgbW9kZVxuLy8gVXNlcyBnbG9iYWxUaGlzIHRvIHBlcnNpc3QgZGF0YSBhY3Jvc3MgTmV4dC5qcyBITVIgKGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQpXG4vLyBBY3R1YWwgcHJvZHVjdGlvbiBkYXRhIGlzIG1hbmFnZWQgYnkgRWxlY3Ryb24ncyBTUUxpdGUgdmlhIGVsZWN0cm9uL21haW4uanNcblxuaW50ZXJmYWNlIENsYXNzcm9vbSB7XG4gIGlkOiBudW1iZXJcbiAgbmFtZTogc3RyaW5nXG4gIGxldmVsOiBzdHJpbmdcbiAgYWNhZGVtaWNfeWVhcjogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBzdHVkZW50X2NvdW50PzogbnVtYmVyXG59XG5cbmludGVyZmFjZSBTdHVkZW50IHtcbiAgaWQ6IG51bWJlclxuICBzdHVkZW50X2lkOiBzdHJpbmdcbiAgZmlyc3RfbmFtZTogc3RyaW5nXG4gIGxhc3RfbmFtZTogc3RyaW5nXG4gIGNsYXNzcm9vbV9pZDogbnVtYmVyXG4gIGdlbmRlcjogc3RyaW5nXG4gIGJpcnRoX2RhdGU/OiBzdHJpbmdcbiAgaXNfYWN0aXZlOiBudW1iZXJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIGNsYXNzcm9vbV9uYW1lPzogc3RyaW5nXG59XG5cbi8vIFNjaGVkdWxlIHN0b3JhZ2VcbmludGVyZmFjZSBTY2hlZHVsZUl0ZW0ge1xuICBjbGFzc3Jvb21faWQ6IG51bWJlclxuICBkYXlfb2Zfd2VlazogbnVtYmVyXG4gIHBlcmlvZDogbnVtYmVyXG4gIHN1YmplY3RfY29kZTogc3RyaW5nXG4gIHN1YmplY3RfbmFtZTogc3RyaW5nXG4gIGNsYXNzX2xldmVsOiBzdHJpbmdcbiAgcm9vbTogc3RyaW5nXG59XG5cbi8vIEF0dGVuZGFuY2Ugc3RvcmFnZVxuaW50ZXJmYWNlIEF0dGVuZGFuY2VFbnRyeSB7XG4gIHN0dWRlbnRfaWQ6IG51bWJlclxuICBjbGFzc3Jvb21faWQ6IG51bWJlclxuICBkYXRlOiBzdHJpbmdcbiAgc3RhdHVzOiBzdHJpbmdcbiAgbm90ZTogc3RyaW5nXG59XG5cbi8vIEhlYWx0aCBzdG9yYWdlXG5pbnRlcmZhY2UgSGVhbHRoRW50cnkge1xuICBzdHVkZW50X2lkOiBudW1iZXJcbiAgY2xhc3Nyb29tX2lkOiBudW1iZXJcbiAgZGF0ZTogc3RyaW5nXG4gIGJydXNoZWRfdGVldGg6IGJvb2xlYW5cbiAgZHJhbmtfbWlsazogYm9vbGVhblxufVxuXG4vLyBHcmFkZSBzdG9yYWdlXG5pbnRlcmZhY2UgR3JhZGVFbnRyeSB7XG4gIHN0dWRlbnRfaWQ6IG51bWJlclxuICBzdWJqZWN0X2NvZGU6IHN0cmluZ1xuICBzY29yZTogbnVtYmVyXG4gIGNsYXNzcm9vbV9pZDogbnVtYmVyXG4gIHNlbWVzdGVyOiBudW1iZXJcbiAgYWNhZGVtaWNfeWVhcjogc3RyaW5nXG59XG5cbi8vIOKUgOKUgOKUgCBQZXJzaXN0IGFsbCBzdG9yZXMgb24gZ2xvYmFsVGhpcyBzbyBITVIgZG9lc24ndCB3aXBlIGRhdGEg4pSA4pSA4pSAXG5pbnRlcmZhY2UgRGJTdG9yZSB7XG4gIGNsYXNzcm9vbXM6IENsYXNzcm9vbVtdXG4gIHN0dWRlbnRzOiBTdHVkZW50W11cbiAgc2NoZWR1bGVzOiBTY2hlZHVsZUl0ZW1bXVxuICBhdHRlbmRhbmNlU3RvcmU6IEF0dGVuZGFuY2VFbnRyeVtdXG4gIGhlYWx0aFN0b3JlOiBIZWFsdGhFbnRyeVtdXG4gIGdyYWRlc1N0b3JlOiBHcmFkZUVudHJ5W11cbiAgbmV4dENsYXNzcm9vbUlkOiBudW1iZXJcbiAgbmV4dFN0dWRlbnRJZDogbnVtYmVyXG59XG5cbmNvbnN0IGcgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBfX2RiPzogRGJTdG9yZSB9XG5pZiAoIWcuX19kYikge1xuICBnLl9fZGIgPSB7XG4gICAgY2xhc3Nyb29tczogW10sXG4gICAgc3R1ZGVudHM6IFtdLFxuICAgIHNjaGVkdWxlczogW10sXG4gICAgYXR0ZW5kYW5jZVN0b3JlOiBbXSxcbiAgICBoZWFsdGhTdG9yZTogW10sXG4gICAgZ3JhZGVzU3RvcmU6IFtdLFxuICAgIG5leHRDbGFzc3Jvb21JZDogMSxcbiAgICBuZXh0U3R1ZGVudElkOiAxLFxuICB9XG59XG5jb25zdCBkYiA9IGcuX19kYlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ2xhc3Nyb29tcygpOiBDbGFzc3Jvb21bXSB7XG4gIHJldHVybiBkYi5jbGFzc3Jvb21zLm1hcChjID0+ICh7XG4gICAgLi4uYyxcbiAgICBzdHVkZW50X2NvdW50OiBkYi5zdHVkZW50cy5maWx0ZXIocyA9PiBzLmNsYXNzcm9vbV9pZCA9PT0gYy5pZCAmJiBzLmlzX2FjdGl2ZSA9PT0gMSkubGVuZ3RoXG4gIH0pKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xhc3Nyb29tKG5hbWU6IHN0cmluZywgbGV2ZWw6IHN0cmluZywgYWNhZGVtaWNZZWFyOiBzdHJpbmcpOiBDbGFzc3Jvb20ge1xuICBjb25zdCBjbGFzc3Jvb206IENsYXNzcm9vbSA9IHtcbiAgICBpZDogZGIubmV4dENsYXNzcm9vbUlkKyssXG4gICAgbmFtZSxcbiAgICBsZXZlbCxcbiAgICBhY2FkZW1pY195ZWFyOiBhY2FkZW1pY1llYXIsXG4gICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHN0dWRlbnRfY291bnQ6IDBcbiAgfVxuICBkYi5jbGFzc3Jvb21zLnB1c2goY2xhc3Nyb29tKVxuICByZXR1cm4gY2xhc3Nyb29tXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDbGFzc3Jvb20oaWQ6IG51bWJlcik6IHZvaWQge1xuICBkYi5jbGFzc3Jvb21zID0gZGIuY2xhc3Nyb29tcy5maWx0ZXIoYyA9PiBjLmlkICE9PSBpZClcbiAgLy8gQ2FzY2FkZSBkZWxldGUgYXNzb2NpYXRlZCBkYXRhXG4gIGRiLnN0dWRlbnRzID0gZGIuc3R1ZGVudHMuZmlsdGVyKHMgPT4gcy5jbGFzc3Jvb21faWQgIT09IGlkKVxuICBkYi5zY2hlZHVsZXMgPSBkYi5zY2hlZHVsZXMuZmlsdGVyKHMgPT4gcy5jbGFzc3Jvb21faWQgIT09IGlkKVxuICBkYi5ncmFkZXNTdG9yZSA9IGRiLmdyYWRlc1N0b3JlLmZpbHRlcihnID0+IGcuY2xhc3Nyb29tX2lkICE9PSBpZClcbiAgZGIuYXR0ZW5kYW5jZVN0b3JlID0gZGIuYXR0ZW5kYW5jZVN0b3JlLmZpbHRlcihhID0+IGEuY2xhc3Nyb29tX2lkICE9PSBpZClcbiAgZGIuaGVhbHRoU3RvcmUgPSBkYi5oZWFsdGhTdG9yZS5maWx0ZXIoaCA9PiBoLmNsYXNzcm9vbV9pZCAhPT0gaWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDbGFzc3Jvb20oaWQ6IG51bWJlciwgZGF0YTogeyBuYW1lPzogc3RyaW5nOyBsZXZlbD86IHN0cmluZzsgYWNhZGVtaWNfeWVhcj86IHN0cmluZyB9KTogdm9pZCB7XG4gIGNvbnN0IGluZGV4ID0gZGIuY2xhc3Nyb29tcy5maW5kSW5kZXgoYyA9PiBjLmlkID09PSBpZClcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGRiLmNsYXNzcm9vbXNbaW5kZXhdID0geyAuLi5kYi5jbGFzc3Jvb21zW2luZGV4XSwgLi4uZGF0YSB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0dWRlbnRzQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQ6IG51bWJlcik6IFN0dWRlbnRbXSB7XG4gIHJldHVybiBkYi5zdHVkZW50c1xuICAgIC5maWx0ZXIocyA9PiBzLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgcy5pc19hY3RpdmUgPT09IDEpXG4gICAgLm1hcChzID0+ICh7XG4gICAgICAuLi5zLFxuICAgICAgY2xhc3Nyb29tX25hbWU6IGRiLmNsYXNzcm9vbXMuZmluZChjID0+IGMuaWQgPT09IHMuY2xhc3Nyb29tX2lkKT8ubmFtZSB8fCAnJ1xuICAgIH0pKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsU3R1ZGVudHMoKTogU3R1ZGVudFtdIHtcbiAgcmV0dXJuIGRiLnN0dWRlbnRzXG4gICAgLmZpbHRlcihzID0+IHMuaXNfYWN0aXZlID09PSAxKVxuICAgIC5tYXAocyA9PiAoe1xuICAgICAgLi4ucyxcbiAgICAgIGNsYXNzcm9vbV9uYW1lOiBkYi5jbGFzc3Jvb21zLmZpbmQoYyA9PiBjLmlkID09PSBzLmNsYXNzcm9vbV9pZCk/Lm5hbWUgfHwgJydcbiAgICB9KSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0dWRlbnQoZGF0YToge1xuICBzdHVkZW50X2lkOiBzdHJpbmdcbiAgZmlyc3RfbmFtZTogc3RyaW5nXG4gIGxhc3RfbmFtZTogc3RyaW5nXG4gIGNsYXNzcm9vbV9pZDogbnVtYmVyXG4gIGdlbmRlcjogc3RyaW5nXG4gIGJpcnRoX2RhdGU/OiBzdHJpbmdcbn0pOiBTdHVkZW50IHtcbiAgY29uc3Qgc3R1ZGVudDogU3R1ZGVudCA9IHtcbiAgICBpZDogZGIubmV4dFN0dWRlbnRJZCsrLFxuICAgIC4uLmRhdGEsXG4gICAgaXNfYWN0aXZlOiAxLFxuICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICB9XG4gIGRiLnN0dWRlbnRzLnB1c2goc3R1ZGVudClcbiAgcmV0dXJuIHN0dWRlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN0dWRlbnQoaWQ6IG51bWJlciwgZGF0YTogUGFydGlhbDxTdHVkZW50Pik6IHZvaWQge1xuICBjb25zdCBpbmRleCA9IGRiLnN0dWRlbnRzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IGlkKVxuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgZGIuc3R1ZGVudHNbaW5kZXhdID0geyAuLi5kYi5zdHVkZW50c1tpbmRleF0sIC4uLmRhdGEgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTdHVkZW50KGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgY29uc3QgaW5kZXggPSBkYi5zdHVkZW50cy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBpZClcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGRiLnN0dWRlbnRzW2luZGV4XS5pc19hY3RpdmUgPSAwXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjaGVkdWxlQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQ6IG51bWJlcik6IFNjaGVkdWxlSXRlbVtdIHtcbiAgcmV0dXJuIGRiLnNjaGVkdWxlcy5maWx0ZXIocyA9PiBzLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlU2NoZWR1bGUoY2xhc3Nyb29tSWQ6IG51bWJlciwgaXRlbXM6IFNjaGVkdWxlSXRlbVtdKTogdm9pZCB7XG4gIGRiLnNjaGVkdWxlcyA9IGRiLnNjaGVkdWxlcy5maWx0ZXIocyA9PiBzLmNsYXNzcm9vbV9pZCAhPT0gY2xhc3Nyb29tSWQpXG4gIGRiLnNjaGVkdWxlcy5wdXNoKC4uLml0ZW1zKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JhZGVzQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQ6IG51bWJlciwgc2VtZXN0ZXI6IG51bWJlciwgeWVhcjogc3RyaW5nKTogR3JhZGVFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmdyYWRlc1N0b3JlLmZpbHRlcihcbiAgICBnID0+IGcuY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZCAmJiBnLnNlbWVzdGVyID09PSBzZW1lc3RlciAmJiBnLmFjYWRlbWljX3llYXIgPT09IHllYXJcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUdyYWRlcyhjbGFzc3Jvb21JZDogbnVtYmVyLCBzZW1lc3RlcjogbnVtYmVyLCB5ZWFyOiBzdHJpbmcsIGVudHJpZXM6IEdyYWRlRW50cnlbXSk6IHZvaWQge1xuICBkYi5ncmFkZXNTdG9yZSA9IGRiLmdyYWRlc1N0b3JlLmZpbHRlcihcbiAgICBnID0+ICEoZy5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkICYmIGcuc2VtZXN0ZXIgPT09IHNlbWVzdGVyICYmIGcuYWNhZGVtaWNfeWVhciA9PT0geWVhcilcbiAgKVxuICBkYi5ncmFkZXNTdG9yZS5wdXNoKC4uLmVudHJpZXMpXG59XG5cbi8vIEF0dGVuZGFuY2UgZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0ZW5kYW5jZUJ5Q2xhc3Nyb29tKGNsYXNzcm9vbUlkOiBudW1iZXIsIGRhdGU6IHN0cmluZyk6IEF0dGVuZGFuY2VFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmF0dGVuZGFuY2VTdG9yZS5maWx0ZXIoYSA9PiBhLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgYS5kYXRlID09PSBkYXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0ZW5kYW5jZUJ5Q2xhc3Nyb29tUmFuZ2UoY2xhc3Nyb29tSWQ6IG51bWJlciwgc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IEF0dGVuZGFuY2VFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmF0dGVuZGFuY2VTdG9yZS5maWx0ZXIoYSA9PiBhLmNsYXNzcm9vbV9pZCA9PT0gY2xhc3Nyb29tSWQgJiYgYS5kYXRlID49IHN0YXJ0RGF0ZSAmJiBhLmRhdGUgPD0gZW5kRGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbEF0dGVuZGFuY2VCeUNsYXNzcm9vbShjbGFzc3Jvb21JZDogbnVtYmVyKTogQXR0ZW5kYW5jZUVudHJ5W10ge1xuICByZXR1cm4gZGIuYXR0ZW5kYW5jZVN0b3JlLmZpbHRlcihhID0+IGEuY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVBdHRlbmRhbmNlKGNsYXNzcm9vbUlkOiBudW1iZXIsIGRhdGU6IHN0cmluZywgZW50cmllczogQXR0ZW5kYW5jZUVudHJ5W10pOiB2b2lkIHtcbiAgZGIuYXR0ZW5kYW5jZVN0b3JlID0gZGIuYXR0ZW5kYW5jZVN0b3JlLmZpbHRlcihhID0+ICEoYS5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkICYmIGEuZGF0ZSA9PT0gZGF0ZSkpXG4gIGRiLmF0dGVuZGFuY2VTdG9yZS5wdXNoKC4uLmVudHJpZXMpXG59XG5cbi8vIEhlYWx0aCBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWFsdGhCeUNsYXNzcm9vbShjbGFzc3Jvb21JZDogbnVtYmVyLCBkYXRlOiBzdHJpbmcpOiBIZWFsdGhFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmhlYWx0aFN0b3JlLmZpbHRlcihoID0+IGguY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZCAmJiBoLmRhdGUgPT09IGRhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWFsdGhCeUNsYXNzcm9vbVJhbmdlKGNsYXNzcm9vbUlkOiBudW1iZXIsIHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBIZWFsdGhFbnRyeVtdIHtcbiAgcmV0dXJuIGRiLmhlYWx0aFN0b3JlLmZpbHRlcihoID0+IGguY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZCAmJiBoLmRhdGUgPj0gc3RhcnREYXRlICYmIGguZGF0ZSA8PSBlbmREYXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsSGVhbHRoQnlDbGFzc3Jvb20oY2xhc3Nyb29tSWQ6IG51bWJlcik6IEhlYWx0aEVudHJ5W10ge1xuICByZXR1cm4gZGIuaGVhbHRoU3RvcmUuZmlsdGVyKGggPT4gaC5jbGFzc3Jvb21faWQgPT09IGNsYXNzcm9vbUlkKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUhlYWx0aChjbGFzc3Jvb21JZDogbnVtYmVyLCBkYXRlOiBzdHJpbmcsIGVudHJpZXM6IEhlYWx0aEVudHJ5W10pOiB2b2lkIHtcbiAgZGIuaGVhbHRoU3RvcmUgPSBkYi5oZWFsdGhTdG9yZS5maWx0ZXIoaCA9PiAhKGguY2xhc3Nyb29tX2lkID09PSBjbGFzc3Jvb21JZCAmJiBoLmRhdGUgPT09IGRhdGUpKVxuICBkYi5oZWFsdGhTdG9yZS5wdXNoKC4uLmVudHJpZXMpXG59XG5cbi8vIENsZWFyIGFsbCBkYXRhXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxEYXRhKCk6IHsgc3VjY2VzczogYm9vbGVhbiB9IHtcbiAgZGIuY2xhc3Nyb29tcyA9IFtdXG4gIGRiLnN0dWRlbnRzID0gW11cbiAgZGIuc2NoZWR1bGVzID0gW11cbiAgZGIuYXR0ZW5kYW5jZVN0b3JlID0gW11cbiAgZGIuaGVhbHRoU3RvcmUgPSBbXVxuICBkYi5ncmFkZXNTdG9yZSA9IFtdXG4gIGRiLm5leHRDbGFzc3Jvb21JZCA9IDFcbiAgZGIubmV4dFN0dWRlbnRJZCA9IDFcbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG59XG5cbi8vIEV4cG9ydCBhbGwgZGF0YVxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydEFsbERhdGEoKSB7XG4gIHJldHVybiB7XG4gICAgY2xhc3Nyb29tczogZ2V0QWxsQ2xhc3Nyb29tcygpLFxuICAgIHN0dWRlbnRzOiBnZXRBbGxTdHVkZW50cygpLFxuICAgIHNjaGVkdWxlOiBkYi5zY2hlZHVsZXMsXG4gICAgZ3JhZGVzOiBkYi5ncmFkZXNTdG9yZSxcbiAgICBhdHRlbmRhbmNlOiBkYi5hdHRlbmRhbmNlU3RvcmUsXG4gICAgaGVhbHRoX2NoZWNrOiBkYi5oZWFsdGhTdG9yZSxcbiAgICBleHBvcnRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHZlcnNpb246ICcxLjAnXG4gIH1cbn1cblxuLy8gSW1wb3J0IGRhdGFcbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnREYXRhKGRhdGE6IHtcbiAgY2xhc3Nyb29tcz86IENsYXNzcm9vbVtdXG4gIHN0dWRlbnRzPzogU3R1ZGVudFtdXG4gIHNjaGVkdWxlPzogU2NoZWR1bGVJdGVtW11cbiAgZ3JhZGVzPzogYW55W11cbiAgYXR0ZW5kYW5jZT86IGFueVtdXG4gIGhlYWx0aF9jaGVjaz86IGFueVtdXG59KTogeyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9IHtcbiAgdHJ5IHtcbiAgICBpZiAoZGF0YS5jbGFzc3Jvb21zKSB7XG4gICAgICBkYi5jbGFzc3Jvb21zID0gZGF0YS5jbGFzc3Jvb21zXG4gICAgICBkYi5uZXh0Q2xhc3Nyb29tSWQgPSBNYXRoLm1heCguLi5kYi5jbGFzc3Jvb21zLm1hcChjID0+IGMuaWQpLCAwKSArIDFcbiAgICB9XG4gICAgaWYgKGRhdGEuc3R1ZGVudHMpIHtcbiAgICAgIGRiLnN0dWRlbnRzID0gZGF0YS5zdHVkZW50cy5tYXAocyA9PiAoeyAuLi5zLCBpc19hY3RpdmU6IHMuaXNfYWN0aXZlID8/IDEgfSkpXG4gICAgICBkYi5uZXh0U3R1ZGVudElkID0gTWF0aC5tYXgoLi4uZGIuc3R1ZGVudHMubWFwKHMgPT4gcy5pZCksIDApICsgMVxuICAgIH1cbiAgICBpZiAoZGF0YS5zY2hlZHVsZSkge1xuICAgICAgZGIuc2NoZWR1bGVzID0gZGF0YS5zY2hlZHVsZVxuICAgIH1cbiAgICBpZiAoZGF0YS5ncmFkZXMpIHtcbiAgICAgIGRiLmdyYWRlc1N0b3JlID0gZGF0YS5ncmFkZXNcbiAgICB9XG4gICAgaWYgKGRhdGEuYXR0ZW5kYW5jZSkge1xuICAgICAgZGIuYXR0ZW5kYW5jZVN0b3JlID0gZGF0YS5hdHRlbmRhbmNlXG4gICAgfVxuICAgIGlmIChkYXRhLmhlYWx0aF9jaGVjaykge1xuICAgICAgZGIuaGVhbHRoU3RvcmUgPSBkYXRhLmhlYWx0aF9jaGVja1xuICAgIH1cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlcnJvcikgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiZyIsImdsb2JhbFRoaXMiLCJfX2RiIiwiY2xhc3Nyb29tcyIsInN0dWRlbnRzIiwic2NoZWR1bGVzIiwiYXR0ZW5kYW5jZVN0b3JlIiwiaGVhbHRoU3RvcmUiLCJncmFkZXNTdG9yZSIsIm5leHRDbGFzc3Jvb21JZCIsIm5leHRTdHVkZW50SWQiLCJkYiIsImdldEFsbENsYXNzcm9vbXMiLCJtYXAiLCJjIiwic3R1ZGVudF9jb3VudCIsImZpbHRlciIsInMiLCJjbGFzc3Jvb21faWQiLCJpZCIsImlzX2FjdGl2ZSIsImxlbmd0aCIsImNyZWF0ZUNsYXNzcm9vbSIsIm5hbWUiLCJsZXZlbCIsImFjYWRlbWljWWVhciIsImNsYXNzcm9vbSIsImFjYWRlbWljX3llYXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicHVzaCIsImRlbGV0ZUNsYXNzcm9vbSIsImEiLCJoIiwidXBkYXRlQ2xhc3Nyb29tIiwiZGF0YSIsImluZGV4IiwiZmluZEluZGV4IiwiZ2V0U3R1ZGVudHNCeUNsYXNzcm9vbSIsImNsYXNzcm9vbUlkIiwiY2xhc3Nyb29tX25hbWUiLCJmaW5kIiwiZ2V0QWxsU3R1ZGVudHMiLCJjcmVhdGVTdHVkZW50Iiwic3R1ZGVudCIsInVwZGF0ZVN0dWRlbnQiLCJkZWxldGVTdHVkZW50IiwiZ2V0U2NoZWR1bGVCeUNsYXNzcm9vbSIsInNhdmVTY2hlZHVsZSIsIml0ZW1zIiwiZ2V0R3JhZGVzQnlDbGFzc3Jvb20iLCJzZW1lc3RlciIsInllYXIiLCJzYXZlR3JhZGVzIiwiZW50cmllcyIsImdldEF0dGVuZGFuY2VCeUNsYXNzcm9vbSIsImRhdGUiLCJnZXRBdHRlbmRhbmNlQnlDbGFzc3Jvb21SYW5nZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJnZXRBbGxBdHRlbmRhbmNlQnlDbGFzc3Jvb20iLCJzYXZlQXR0ZW5kYW5jZSIsImdldEhlYWx0aEJ5Q2xhc3Nyb29tIiwiZ2V0SGVhbHRoQnlDbGFzc3Jvb21SYW5nZSIsImdldEFsbEhlYWx0aEJ5Q2xhc3Nyb29tIiwic2F2ZUhlYWx0aCIsImNsZWFyQWxsRGF0YSIsInN1Y2Nlc3MiLCJleHBvcnRBbGxEYXRhIiwic2NoZWR1bGUiLCJncmFkZXMiLCJhdHRlbmRhbmNlIiwiaGVhbHRoX2NoZWNrIiwiZXhwb3J0ZWRfYXQiLCJ2ZXJzaW9uIiwiaW1wb3J0RGF0YSIsIk1hdGgiLCJtYXgiLCJlcnJvciIsIlN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Froute&page=%2Fapi%2Fattendance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Froute.ts&appDir=F%3A%5CStudent_name_checking%5CSchool_system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5CStudent_name_checking%5CSchool_system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();